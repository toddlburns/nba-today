name: Daily NBA Build                                                                                      
                                                                                                             
on:                                                                                                        
    schedule:                                                                                                
      - cron: '0 8 * * *'                                                                                    
    workflow_dispatch:                                                                                       
                                                                                                             
jobs:                                                                                                      
    build:                                                                                                   
      runs-on: ubuntu-latest                                                                                 
                                                                                                             
      steps:                                                                                                 
        - name: Checkout repository                                                                          
          uses: actions/checkout@v4                                                                          
                                                                                                             
        - name: Setup Node.js                                                                                
          uses: actions/setup-node@v4                                                                        
          with:                                                                                              
            node-version: '20'                                                                               
                                                                                                             
        - name: Run build script                                                                             
          run: node build.js                                                                                 
                                                                                                             
        - name: Commit and push changes                                                                      
          run: |                                                                                             
            git config --local user.email "action@github.com"                                                
            git config --local user.name "GitHub Action"                                                     
            git add index.html                                                                               
            git diff --staged --quiet || git commit -m "Daily update for $(date +'%Y-%m-%d')"                
            git push     
